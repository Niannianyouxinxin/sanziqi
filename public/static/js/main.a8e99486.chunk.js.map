{"version":3,"sources":["types/enums.ts","components/ChessComp.tsx","components/BoardComp.tsx","components/GameStatusComp.tsx","components/GameComp.tsx","App.tsx","index.tsx"],"names":["ChessType","GameStatus","ChessComp","props","chess","type","red","className","black","onClick","none","BoardComp","isGameOver","list","chesses","map","i","key","defaultProps","GameStatusComp","content","status","gameing","next","redWin","blackWin","GameComp","state","gameStatus","nextChess","this","init","arr","push","setState","index","prevState","getStatus","horMin","Math","floor","verMin","includes","equal","style","textAlign","handleChessClick","bind","React","Component","App","width","position","bottom","href","textDecoration","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8e99486.chunk.js","sourcesContent":["export enum ChessType {\r\n    none,\r\n    red,\r\n    black\r\n}\r\n\r\nexport enum GameStatus {\r\n    gameing,\r\n    redWin,\r\n    blackWin,\r\n    equal\r\n}\r\n","import { ChessType } from \"../types/enums\";\r\nimport React from 'react'\r\nimport './ChessComp.css'\r\n\r\ninterface IProps{\r\n    type:ChessType\r\n    onClick?: () => void\r\n}\r\nexport function ChessComp(props:IProps){\r\n    let chess = null;\r\n    if(props.type === ChessType.red){\r\n        chess = <div className=\"red chess-item\"></div>\r\n    }else if(props.type === ChessType.black){\r\n        chess = <div className=\"black chess-item\"></div>\r\n    }\r\n    return (\r\n        <div className=\"chess\" onClick={() => {\r\n            if(props.type === ChessType.none){\r\n                if(props.onClick){\r\n                    props.onClick();\r\n                }\r\n            }\r\n        }}>\r\n            {chess}\r\n        </div>\r\n    )\r\n}","import { ChessType } from \"../types/enums\";\r\nimport { ChessComp } from \"./ChessComp\";\r\nimport React from \"react\";\r\nimport './BoardComp.css'\r\n\r\ninterface IProps{\r\n    chesses:ChessType[]\r\n    isGameOver?:boolean\r\n    onClick?:(index:number) => void \r\n}\r\n\r\nconst BoardComp: React.FC<IProps> = function (props:IProps){\r\n    const isGameOver = props.isGameOver as boolean;\r\n    const list = props.chesses.map((type,i) => {\r\n        return (\r\n            <ChessComp \r\n            type={type}\r\n            key={i}\r\n            onClick={() => {\r\n                if(props.onClick && !isGameOver){\r\n                    props.onClick(i);\r\n                }\r\n            }}/>\r\n        )\r\n    });\r\n    return (\r\n        <div className=\"board\">\r\n            {list}\r\n        </div>\r\n    )\r\n}\r\n\r\nBoardComp.defaultProps = {\r\n    isGameOver:false\r\n}\r\n\r\nexport { BoardComp }","import { GameStatus, ChessType } from \"../types/enums\";\r\nimport React from \"react\";\r\nimport \"./GameStatusComp.css\"\r\n\r\ninterface IProps{\r\n    status:GameStatus\r\n    next: ChessType.red | ChessType.black\r\n}\r\n\r\nexport function GameStatusComp(props:IProps){\r\n    let content: JSX.Element;\r\n    if(props.status === GameStatus.gameing){\r\n        if(props.next === ChessType.red){\r\n            content = <div className=\"next red\">红方落子</div>\r\n        }else{\r\n            content = <div className=\"next black\">黑方落子</div>\r\n        }\r\n    }else{\r\n        if(props.status === GameStatus.redWin){\r\n            content = <div className=\"win red\">红方胜利</div>\r\n        }else if(props.status === GameStatus.blackWin){\r\n            content = <div className=\"win black\">黑方胜利</div>\r\n        }else{\r\n            content = <div className=\"win equal\">平局</div>\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"status\">\r\n            {content}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { ChessType, GameStatus } from '../types/enums'\r\nimport { BoardComp } from './BoardComp'\r\nimport { GameStatusComp } from './GameStatusComp';\r\n\r\ninterface IState{\r\n    chesses:ChessType[]\r\n    gameStatus:GameStatus\r\n    nextChess:ChessType.red | ChessType.black\r\n}\r\n\r\nexport class GameComp extends React.Component<{},IState> {\r\n\r\n    state:IState = {\r\n        chesses:[],\r\n        gameStatus:GameStatus.gameing,\r\n        nextChess:ChessType.black\r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.init();\r\n    }\r\n\r\n    init(){\r\n        const arr: ChessType[] = [];\r\n        for(let i = 0;i < 9;i++){\r\n            arr.push(ChessType.none);\r\n        }\r\n        this.setState({\r\n            chesses:arr,\r\n            gameStatus:GameStatus.gameing,\r\n            nextChess:ChessType.black\r\n        })\r\n    }\r\n\r\n    handleChessClick(index:number){\r\n        // this.state.cheeses[index] = this.state.nextChess;\r\n        const chesses:ChessType[] = [...this.state.chesses];\r\n        chesses[index] = this.state.nextChess;\r\n        this.setState(prevState => ({\r\n            chesses,\r\n            nextChess:prevState.nextChess === ChessType.red ? ChessType.black : ChessType.red,\r\n            gameStatus:this.getStatus(chesses,index)\r\n        }))\r\n    }\r\n\r\n    getStatus(chesses:ChessType[],index:number):GameStatus {\r\n        const horMin = Math.floor(index / 3) * 3;\r\n        const verMin = index % 3;\r\n        if((chesses[horMin] === chesses[horMin + 1] && chesses[horMin + 1] === chesses[horMin + 2])\r\n        || (chesses[verMin] === chesses[verMin + 3] && chesses[verMin + 3] === chesses[verMin + 6])\r\n        || (chesses[0] === chesses[4] && chesses[4] === chesses[8] && chesses[0] !== ChessType.none)\r\n        || (chesses[1] === chesses[4] && chesses[4] === chesses[7] && chesses[1] !== ChessType.none)\r\n        || (chesses[2] === chesses[4] && chesses[4] === chesses[6] && chesses[2] !== ChessType.none)\r\n        || (chesses[3] === chesses[4] && chesses[4] === chesses[5] && chesses[3] !== ChessType.none)){\r\n            if(chesses[index] === ChessType.red){\r\n                return GameStatus.redWin;\r\n            }else{\r\n                return GameStatus.blackWin;\r\n            }\r\n        }\r\n        if(!chesses.includes(ChessType.none)){\r\n            return GameStatus.equal;\r\n        }\r\n        return GameStatus.gameing;\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div style={{textAlign:\"center\"}} className=\"game\">\r\n                <h1>三连棋游戏</h1>\r\n                <GameStatusComp \r\n                    status={this.state.gameStatus}\r\n                    next={this.state.nextChess}\r\n                />\r\n                <BoardComp \r\n                  chesses={this.state.chesses} \r\n                  isGameOver={this.state.gameStatus !== GameStatus.gameing}\r\n                  onClick={this.handleChessClick.bind(this)} /> \r\n                <button onClick={() => {\r\n                    this.init();\r\n                }}>重新开始</button>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\n// import { ChessComp } from './components/ChessComp';\n// import { ChessType } from './types/enums';\n// import { BoardComp } from './components/BoardComp';\nimport { GameComp } from './components/GameComp';\n\n// const chesses:ChessType[] = [\n//   ChessType.none,\n//   ChessType.red,\n//   ChessType.black,\n//   ChessType.none,\n//   ChessType.red,\n//   ChessType.black,\n//   ChessType.none,\n//   ChessType.red,\n//   ChessType.black\n// ]\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GameComp />\n      <p style={{width:\"100%\",textAlign:\"center\",position:\"fixed\",bottom:0}}>\n        <a href=\"http://beian.miit.gov.cn\" style={{textDecoration:\"none\",color:\"black\"}}>陇ICP备20000485号</a>\n      </p>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}